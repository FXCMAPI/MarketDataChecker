'use strict';
let EventManager = require('./EventManager.js');
let ExecutionTimeEventBuilder = require('./ExecutionTimeEventBuilder.js');
class LocalPriceHistoryCommandCallback {
    callback;
    event;
    onSuccess(response) {
        this.event.stop();
        EventManager.getLogger().performance(this.event.build());
        this.callback.onSuccess(response);
    }
    onError(error) {
        this.event.stopWithError(error.getMessage());
        this.callback.onError(error);
    }
    static create(eventName, callback) {
        let instance;
        instance = new LocalPriceHistoryCommandCallback();
        instance.callback = callback;
        instance.event = ExecutionTimeEventBuilder.create(eventName);
        instance.event.start();
        return instance;
    }
}
module.exports = LocalPriceHistoryCommandCallback
