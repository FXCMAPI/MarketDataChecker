'use strict';
let DxFeedSubscriptionData = require('./DxFeedSubscriptionData.js');
let variantCast = require('@gehtsoft/LuaxStdlib-node').variantCast;
class DxFeedSubscriptionDataReader {
    read(node) {
        let id, error, successful;
        if (node.getPropertyByName("channel").getValueAsString() != DxFeedSubscriptionData.CHANNEL) {
            return null;
        }
        successful = node.getPropertyByName("successful").getValueAsBoolean();
        id = variantCast.castToInt(variantCast.fromString(node.getPropertyByName("id").getValueAsString()));
        if (successful) {
            error = "";
        }
        else {
            error = node.getPropertyByName("error").getValueAsString();
        }
        return DxFeedSubscriptionData.create(successful, id, error);
    }
}
module.exports = DxFeedSubscriptionDataReader
