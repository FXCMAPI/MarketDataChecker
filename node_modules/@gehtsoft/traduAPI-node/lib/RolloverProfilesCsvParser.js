'use strict';
let csvParser = require('@gehtsoft/LuaxStdlib-node').csvParser;
let stdlib = require('@gehtsoft/LuaxStdlib-node').stdlib;
let RolloverProfileBuilder = require('./RolloverProfileBuilder.js');
class RolloverProfilesCsvParser {
    fieldParser;
    constructor() {
        this.fieldParser = new csvParser();
        this.fieldParser.valueSeparator = ";";
    }
    parse(line) {
        let parts, builder, rolloverProfileLine;
        if (line == null) {
            return null;
        }
        rolloverProfileLine = stdlib.trim(line);
        if (rolloverProfileLine == "0" || stdlib.len(rolloverProfileLine) == 0) {
            return null;
        }
        parts = this.fieldParser.splitLine(rolloverProfileLine);
        builder = new RolloverProfileBuilder();
        builder.setARPId(parts[0]);
        builder.setOfferId(parts[1]);
        builder.setRolloverSellMarkup(parts[2]);
        builder.setRolloverBuyMarkup(parts[3]);
        builder.setChangeNo(parts[4]);
        return builder.build();
    }
}
module.exports = RolloverProfilesCsvParser
