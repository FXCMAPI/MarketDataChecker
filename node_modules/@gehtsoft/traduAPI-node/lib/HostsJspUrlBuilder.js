'use strict';
let UniqueStringBuilder = require('./UniqueStringBuilder.js');
let stdlib = require('@gehtsoft/LuaxStdlib-node').stdlib;
let EscapeUrlUtil = require('./EscapeUrlUtil.js');
//@@DocBrief("Builder of URL to get Hosts.jsp content")
class HostsJspUrlBuilder {
    static createUrl(url, login, connection, applicationName, ssoToken, ssoTokenProvider) {
        let resultUrl, tempString;
        tempString = UniqueStringBuilder.getString();
        resultUrl = url;
        if (stdlib.lastIndexOf(url, "/Hosts.jsp", true) == -1) {
            resultUrl = resultUrl + "/Hosts.jsp";
        }
        resultUrl = resultUrl + "?ID=" + tempString + "&PN=" + connection + "&SN=" + applicationName + "&MV=6";
        if (stdlib.len(ssoToken) > 0 && stdlib.len(ssoTokenProvider) > 0) {
            resultUrl = resultUrl + "&ST=" + EscapeUrlUtil.escape(ssoToken) + "&SP=" + EscapeUrlUtil.escape(ssoTokenProvider) + "&osver=8";
        }
        else {
            resultUrl = resultUrl + "&LN=" + EscapeUrlUtil.escape(login) + "&AT=PLAIN";
        }
        return resultUrl;
    }
}
module.exports = HostsJspUrlBuilder
