'use strict';
let stdlib = require('@gehtsoft/LuaxStdlib-node').stdlib;
class RolloverMarkupProvider {
    storage;
    isArpNotSupported;
    systemSettingsProvider;
    static create(storage, systemSettingsProvider) {
        let rolloverMarkupProvider;
        rolloverMarkupProvider = new RolloverMarkupProvider();
        rolloverMarkupProvider.storage = storage;
        rolloverMarkupProvider.systemSettingsProvider = systemSettingsProvider;
        return rolloverMarkupProvider;
    }
    get(rolloverProfileId, offerId) {
        return this.storage.findRolloverMarkupDescriptor(rolloverProfileId, offerId);
    }
    IsArpNotSupported() {
        this.checkArpSupported(this.systemSettingsProvider);
        return this.isArpNotSupported;
    }
    checkArpSupported(systemSettingsProvider) {
        let isArpDisabled;
        isArpDisabled = systemSettingsProvider.getPropertyByName("ARP_DISABLED");
        if (isArpDisabled == null || stdlib.len(isArpDisabled) == 0) {
            isArpDisabled = "N";
        }
        this.isArpNotSupported = isArpDisabled == "Y";
    }
}
module.exports = RolloverMarkupProvider
